<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <title>18 Iterator-Generator | lizhi1026.top</title><meta name="description" content="大前端知识分享网站">
    <link rel="preload" href="/assets/js/runtime~app.56da2130.js" as="script"><link rel="preload" href="/assets/css/styles.25f7fced.css" as="style"><link rel="preload" href="/assets/js/4666.93202135.js" as="script"><link rel="preload" href="/assets/js/app.942499dd.js" as="script"><link rel="prefetch" href="/assets/js/v-06800a30.f3dec077.js"><link rel="prefetch" href="/assets/js/v-0cec149c.bfb69549.js"><link rel="prefetch" href="/assets/js/v-7bf71e2f.445f559d.js"><link rel="prefetch" href="/assets/js/v-afcf349c.83e92e33.js"><link rel="prefetch" href="/assets/js/5830.c7d14f1b.js"><link rel="prefetch" href="/assets/js/v-41360372.686f3b5e.js"><link rel="prefetch" href="/assets/js/v-66c1598a.a282d5dd.js"><link rel="prefetch" href="/assets/js/v-26ed9ad3.92bb18be.js"><link rel="prefetch" href="/assets/js/v-0f53152a.d26dfc64.js"><link rel="prefetch" href="/assets/js/v-50d82b15.91ee28e4.js"><link rel="prefetch" href="/assets/js/v-dff859fc.f557570b.js"><link rel="prefetch" href="/assets/js/v-18509685.df423604.js"><link rel="prefetch" href="/assets/js/v-a922edc0.535a94a4.js"><link rel="prefetch" href="/assets/js/v-1d4c7ec0.cf60d8dd.js"><link rel="prefetch" href="/assets/js/v-77d53053.0a341438.js"><link rel="prefetch" href="/assets/js/v-d6494774.fc802c43.js"><link rel="prefetch" href="/assets/js/v-44577b2c.90b3dab6.js"><link rel="prefetch" href="/assets/js/v-60cb68ec.2b811fdb.js"><link rel="prefetch" href="/assets/js/v-6a8aaabc.b69ccc84.js"><link rel="prefetch" href="/assets/js/v-1d247778.1f704f62.js"><link rel="prefetch" href="/assets/js/v-eec6bdf2.9dfc99e5.js"><link rel="prefetch" href="/assets/js/v-5e3003f2.0480b37f.js"><link rel="prefetch" href="/assets/js/8079.c3bbc0d7.js"><link rel="prefetch" href="/assets/js/v-690d1ccf.210a0aaa.js"><link rel="prefetch" href="/assets/js/v-4eab4074.98636d52.js"><link rel="prefetch" href="/assets/js/v-226a117c.df5ea4f3.js"><link rel="prefetch" href="/assets/js/v-0dd0ed5c.48c3e5f6.js"><link rel="prefetch" href="/assets/js/v-2dc80c78.aebbc661.js"><link rel="prefetch" href="/assets/js/v-06ce03a3.393915e8.js"><link rel="prefetch" href="/assets/js/v-255f3c16.7dda2681.js"><link rel="prefetch" href="/assets/js/v-2acb2440.318dbfe2.js"><link rel="prefetch" href="/assets/js/v-5f1d9e81.908f219f.js"><link rel="prefetch" href="/assets/js/v-6ad26784.75e47cd3.js"><link rel="prefetch" href="/assets/js/v-01580f52.1b9475e7.js"><link rel="prefetch" href="/assets/js/v-1c4caef2.8e2d2a6d.js"><link rel="prefetch" href="/assets/js/v-5272b55f.d31a06ca.js"><link rel="prefetch" href="/assets/js/v-3e21a9cc.2bfdcc89.js"><link rel="prefetch" href="/assets/js/v-9f22f4ae.70636cc8.js"><link rel="prefetch" href="/assets/js/v-c95b0bb0.0c2e9386.js"><link rel="prefetch" href="/assets/js/v-3501e2d3.682a91f5.js"><link rel="prefetch" href="/assets/js/v-43870b30.c12b71f5.js"><link rel="prefetch" href="/assets/js/v-3e9755d6.7e26e47a.js"><link rel="prefetch" href="/assets/js/v-66d50acf.33f4a2d3.js"><link rel="prefetch" href="/assets/js/v-adc3e5f2.854489e9.js"><link rel="prefetch" href="/assets/js/v-26cdd7e2.e81a97c9.js"><link rel="prefetch" href="/assets/js/v-6d3cecb0.57f3cc41.js"><link rel="prefetch" href="/assets/js/v-7022f99e.9f5d8567.js"><link rel="prefetch" href="/assets/js/v-5953ceb8.e0f46831.js"><link rel="prefetch" href="/assets/js/v-24f73c0c.a3cec53b.js"><link rel="prefetch" href="/assets/js/v-222dd469.f2d22200.js"><link rel="prefetch" href="/assets/js/7534.7858fa5b.js"><link rel="prefetch" href="/assets/js/9330.a24ae1ea.js"><link rel="prefetch" href="/assets/js/v-52e63bcd.e76b3be6.js"><link rel="prefetch" href="/assets/js/v-ee220b6c.316962c1.js"><link rel="prefetch" href="/assets/js/1493.621b4732.js"><link rel="prefetch" href="/assets/js/v-42a882a6.e9bdd474.js"><link rel="prefetch" href="/assets/js/2872.274d6544.js"><link rel="prefetch" href="/assets/js/8427.53575c78.js"><link rel="prefetch" href="/assets/js/3238.c15e0c51.js"><link rel="prefetch" href="/assets/js/9163.9349bcf1.js"><link rel="prefetch" href="/assets/js/7042.9829b4c6.js"><link rel="prefetch" href="/assets/js/2994.73b50e07.js"><link rel="prefetch" href="/assets/js/v-09516126.809b320d.js"><link rel="prefetch" href="/assets/js/v-8daa1a0e.6f16aea4.js"><link rel="prefetch" href="/assets/js/v-1152bc8b.99b5d6fd.js"><link rel="prefetch" href="/assets/js/v-e355b60c.b46b7823.js"><link rel="prefetch" href="/assets/js/v-41507b24.e30e8d98.js"><link rel="prefetch" href="/assets/js/v-15534fdd.605934fb.js"><link rel="prefetch" href="/assets/js/v-3706649a.10e6f071.js"><link rel="prefetch" href="/assets/css/6286.styles.2808748c.css">
    <link rel="stylesheet" href="/assets/css/styles.25f7fced.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><header class="theme-header" is-logo="true"><a href="/" class="logo-link" style=""><img src="/images/logo-light.svg" alt class="logo"><strong class="title">lizhi1026.top</strong></a><!----><nav class="navbar"><i class="iconfont icon-menu menu-btn"></i><ul class="nav-list"><li class="nav-item"><div class="navbar-blogger"><div class="avatar"><img src="/images/avatar.jpg" alt="头像" title="头像"></div><div class="types"><a href="/categories/?category=all" class="type"><span class="text">分类</span><span class="num">52</span></a><div class="divider"></div><a href="/tags/?tag=all" class="type"><span class="text">标签</span><span class="num">52</span></a></div><div class="blogger"><div class="name">前端程序猿</div><p class="slogan" title="种一棵树最好的时间是十年前，其次是现在！">种一棵树最好的时间是十年前，其次是现在！</p></div></div></li><!--[--><li class="nav-link nav-item"><a href="/PostsLayout" class="navbar-item"><!----><span class="text">TypeScript学习笔记</span></a></li><li class="nav-link nav-item"><a href="/PostsLayout" class="navbar-item"><!----><span class="text">深入理解JavaScript</span></a></li><!--]--><li class="nav-link nav-item"><button class="theme-toggle"><i class="icon-sun iconfont"></i></button></li><li class="nav-link nav-item search-link"><a href="/search/" class="navbar-item"><i class="icon-search iconfont"></i><span class="text">搜索</span></a></li><li class="nav-item nav-medias"><div class="medias"><!--[--><a class="icon-email iconfont" href="lizhi1026@126.com" title="email" target="_blank"></a><a class="icon-github iconfont" href="https://github.com/gaojihao" title="github" target="_blank"></a><!--]--></div></li></ul></nav></header><!--[--><main class="theme-container theme-post-container"><aside class="post-aside"><ul class="menu-list"><!--[--><li id="01 深入 JavaScript 运行原理" class="menu-item"><a href="/4c4b0ea377b92a0003783aa0d5cf8bc8/" class="navbar-item"><!----><span class="text">01 深入 JavaScript 运行原理</span></a></li><li id="02 JS 内存管理和闭包" class="menu-item"><a href="/856b4bcb2027113073e25a4bff85e119/" class="navbar-item"><!----><span class="text">02 JS 内存管理和闭包</span></a></li><li id="03 JS 函数的 this 指向" class="menu-item"><a href="/0cd39fb70e0f2ca9faf4ee526f9e616e/" class="navbar-item"><!----><span class="text">03 JS 函数的 this 指向</span></a></li><li id="04 call、apply、bind" class="menu-item"><a href="/84eb2e0467d32f54a49e19e3f432c5f4/" class="navbar-item"><!----><span class="text">04 call、apply、bind</span></a></li><li id="05 JS 函数式编程" class="menu-item"><a href="/f678ec54116e1278bf9cf4fba44a52bb/" class="navbar-item"><!----><span class="text">05 JS 函数式编程</span></a></li><li id="06 JS 额外知识补充" class="menu-item"><a href="/f79d10f69ea68efbbfe1738916d7eff9/" class="navbar-item"><!----><span class="text">06 JS 额外知识补充</span></a></li><li id="07 深入 JS 面向对象 一" class="menu-item"><a href="/7178cfbd4eb2d730e93c68b97f5d94e8/" class="navbar-item"><!----><span class="text">07 深入 JS 面向对象 一</span></a></li><li id="08 深入 JS 面向对象 二" class="menu-item"><a href="/a4e6a517b4ec5a47965cd6cf67eb218a/" class="navbar-item"><!----><span class="text">08 深入 JS 面向对象 二</span></a></li><li id="09 深入 JS 面向对象继承" class="menu-item"><a href="/ad7f8c802df714eae7da323e2ced909e/" class="navbar-item"><!----><span class="text">09 深入 JS 面向对象继承</span></a></li><li id="10 JS 对象的方法补充" class="menu-item"><a href="/7a38cb54be902811fe8d07db448a008d/" class="navbar-item"><!----><span class="text">10 JS 对象的方法补充</span></a></li><li id="11 ES6 中类的使用" class="menu-item"><a href="/8c4ad459a070c46f8959cad7209d7bb9/" class="navbar-item"><!----><span class="text">11 ES6 中类的使用</span></a></li><li id="12 ES6 知识点讲解" class="menu-item"><a href="/f4259473db3d9f03896d064cee0709e0/" class="navbar-item"><!----><span class="text">12 ES6 知识点讲解</span></a></li><li id="13 ES7-ES12 知识点解析" class="menu-item"><a href="/528bbdd7ab4f010b4ece3abc1cf1996a/" class="navbar-item"><!----><span class="text">13 ES7-ES12 知识点解析</span></a></li><li id="14 Proxy-Reflect vue2-vue3 响应式原理" class="menu-item"><a href="/51b090dc86986d3e82b8e7d2afa6b7a5/" class="navbar-item"><!----><span class="text">14 Proxy-Reflect vue2-vue3 响应式原理</span></a></li><li id="15 响应式原理实现" class="menu-item"><a href="/4160c10e05a857abc57228e3e4b95c9e/" class="navbar-item"><!----><span class="text">15 响应式原理实现</span></a></li><li id="16 Promise 使用详解" class="menu-item"><a href="/79bda6359513634824b93e149ce60e5d/" class="navbar-item"><!----><span class="text">16 Promise 使用详解</span></a></li><li id="17 手写 Promise" class="menu-item"><a href="/b780e718ee01fcb2708e6564ce868edc/" class="navbar-item"><!----><span class="text">17 手写 Promise</span></a></li><li id="18 Iterator-Generator" class="active menu-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/" class="router-link-active router-link-exact-active navbar-item"><!----><span class="text">18 Iterator-Generator</span></a></li><!--]--></ul></aside><div class="theme-content post-container"><div class="post-wrapper"><i class="iconfont icon-book toc-btn"></i><i class="iconfont icon-menu aside-btn"></i><div class="markdown-body"><h1 class="post-title"><span>18 Iterator-Generator</span></h1><div class="post-info"><span class="post-info-item"><i class="iconfont icon-avatar" title="作者"></i> 前端程序猿</span><span class="post-info-item"><i class="iconfont icon-datetime" title="日期"></i> 2022-08-12</span><span class="post-info-item"><i class="iconfont icon-categorynormal" title="分类"></i><!--[--><a href="/categories/?category=%E5%A4%A7%E5%89%8D%E7%AB%AF" class="post-type">大前端</a><!--]--></span><span class="post-info-item"><i class="iconfont icon-tag" title="标签"></i><!--[--><a href="/tags/?tag=javascript" class="post-type">javascript</a><!--]--></span></div><div><p>迭代器（iterator），是确使用户可在容器对象（container，例如链表或数组）上遍访的对象，使用该接口无需关心对象的内部实现细节。</p><h2 id="什么是迭代器" tabindex="-1"><a class="header-anchor" href="#什么是迭代器" aria-hidden="true">#</a> 什么是迭代器？</h2><p>其行为像数据库中的光标，迭代器最早出现在 1974 年设计的 CLU 编程语言中；在各种编程语言的实现中，迭代器的实现方式各不相同，但是基本都有迭代器，比如 Java、Python 等；</p><p>从迭代器的定义我们可以看出来，迭代器是帮助我们对某个数据结构进行遍历的对象。</p><p>在 JavaScript 中，迭代器也是一个具体的对象，这个对象需要符合迭代器协议（iterator protocol）：</p><p>迭代器协议定义了产生一系列值（无论是有限还是无限个）的标准方式；在 js 中这个标准就是一个特定的 next 方法；</p><p>next 方法有如下的要求：一个无参数或者一个参数的函数，返回一个应当拥有以下两个属性的对象：</p><ul><li>done（boolean） <ul><li>如果迭代器可以产生序列中的下一个值，则为 false。</li><li>如果迭代器已将序列迭代完毕，则为 true。这种情况下，value 是可选的，如果它依然存在，即为迭代结束之后的默认返回值。</li></ul></li><li>value: 迭代器返回的任何 JavaScript 值。done 为 true 时可省略。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 编写的一个迭代器</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数组</span>
<span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span>

<span class="token comment">// 创建一个迭代器对象来访问数组</span>
<span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">const</span> namesIterator <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> names<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> names<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>namesIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>namesIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>namesIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// { done: false, value: &quot;nba&quot; }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>namesIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// { done: true, value: undefined }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="迭代器的代码练习" tabindex="-1"><a class="header-anchor" href="#迭代器的代码练习" aria-hidden="true">#</a> 迭代器的代码练习</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createArrayIterator</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> namesIterator <span class="token operator">=</span> <span class="token function">createArrayIterator</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>
<span class="token keyword">const</span> numsIterator <span class="token operator">=</span> <span class="token function">createArrayIterator</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建一个无限的迭代器</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createNumberIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> index<span class="token operator">++</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="可迭代对象" tabindex="-1"><a class="header-anchor" href="#可迭代对象" aria-hidden="true">#</a> 可迭代对象</h2><p>但是上面的代码整体来说看起来是有点奇怪的：</p><p>我们获取一个数组的时候，需要自己创建一个 index 变量，再创建一个所谓的迭代器对象；事实上我们可以对上面的代码进行进一步的封装，让其变成一个可迭代对象；</p><p>什么又是可迭代对象呢？</p><p>它和迭代器是不同的概念；</p><p>当一个对象实现了 iterable protocol 协议时，它就是一个可迭代对象；这个对象的要求是必须实现 @@iterator 方法，在代码中我们使用 Symbol.iterator 访问该属性；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 创建一个迭代器对象来访问数组</span>
<span class="token keyword">const</span> iterableObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">names</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> iterator <span class="token operator">=</span> iterableObj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们要问一个问题，我们转成这样的一个东西有什么好处呢？</p><p>当一个对象变成一个可迭代对象的时候，进行某些迭代操作，比如 for...of 操作时，其实就会调用它的 @@iterator 方法</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> iterableObj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="原生迭代器对象" tabindex="-1"><a class="header-anchor" href="#原生迭代器对象" aria-hidden="true">#</a> 原生迭代器对象</h2><p>事实上我们平时创建的很多原生对象已经实现了可迭代协议，会生成一个迭代器对象的：String、Array、Map、Set、arguments 对象、NodeList 集合；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// const iterator1 = names[Symbol.iterator]()</span>
<span class="token comment">// console.log(iterator1.next())</span>
<span class="token comment">// console.log(iterator1.next())</span>
<span class="token comment">// console.log(iterator1.next())</span>
<span class="token comment">// console.log(iterator1.next())</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> names<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Map/Set</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> set<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数中arguments也是一个可迭代对象</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> arg <span class="token keyword">of</span> arguments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="可迭代对象的应用" tabindex="-1"><a class="header-anchor" href="#可迭代对象的应用" aria-hidden="true">#</a> 可迭代对象的应用</h2><p>那么这些东西可以被用在哪里呢？</p><ul><li>JavaScript 中语法：for ...of、展开语法（spread syntax）、yield*（后面讲）、解构赋值（Destructuring_assignment）；</li><li>创建一些对象时：new Map([Iterable])、new WeakMap([iterable])、new Set([iterable])、new WeakSet([iterable]);</li><li>一些方法的调用：Promise.all(iterable)、Promise.race(iterable)、Array.from(iterable);</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1.for of场景</span>

<span class="token comment">// 2.展开语法(spread syntax)</span>
<span class="token keyword">const</span> iterableObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">names</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> newNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>names<span class="token punctuation">,</span> <span class="token operator">...</span>iterableObj<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNames<span class="token punctuation">)</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>
<span class="token comment">// for (const item of obj) {</span>

<span class="token comment">// }</span>
<span class="token comment">// ES9(ES2018)中新增的一个特性: 用的不是迭代器</span>
<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>

<span class="token comment">// 3.解构语法</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>name1<span class="token punctuation">,</span> name2<span class="token punctuation">]</span> <span class="token operator">=</span> names
<span class="token comment">// const { name, age } = obj 不一样ES9新增的特性</span>

<span class="token comment">// 4.创建一些其他对象时</span>
<span class="token keyword">const</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>iterableObj<span class="token punctuation">)</span>
<span class="token keyword">const</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>

<span class="token keyword">const</span> arr1 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>iterableObj<span class="token punctuation">)</span>

<span class="token comment">// 5.Promise.all</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>iterableObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义类的迭代" tabindex="-1"><a class="header-anchor" href="#自定义类的迭代" aria-hidden="true">#</a> 自定义类的迭代</h2><p>在前面我们看到 Array、Set、String、Map 等类创建出来的对象都是可迭代对象：</p><p>在面向对象开发中，我们可以通过 class 定义一个自己的类，这个类可以创建很多的对象：如果我们也希望自己的类创建出来的对象默认是可迭代的，那么在设计类的时候我们就可以添加上@@iterator 方法；</p><p>案例：创建一个 classroom 的类</p><ul><li>教室中有自己的位置、名称、当前教室的学生；</li><li>这个教室可以进来新学生（push）；</li><li>创建的教室对象是可迭代对象；</li></ul><h2 id="自定义类的迭代实现" tabindex="-1"><a class="header-anchor" href="#自定义类的迭代实现" aria-hidden="true">#</a> 自定义类的迭代实现</h2><p>迭代器在某些情况下会在没有完全迭代的情况下中断：</p><p>比如遍历的过程中通过 break、continue、return、throw 中断了循环操作；在解构的时候，没有解构所有的值；</p><p>那么这个时候我们想要监听中断的话，可以添加 return 方法：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 案例: 创建一个教室类, 创建出来的对象都是可迭代对象</span>
<span class="token keyword">class</span> <span class="token class-name">Classroom</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">address<span class="token punctuation">,</span> name<span class="token punctuation">,</span> students</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>students <span class="token operator">=</span> students
  <span class="token punctuation">}</span>

  <span class="token function">entry</span><span class="token punctuation">(</span><span class="token parameter">newStudent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newStudent<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>students<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>students<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">return</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;迭代器提前终止了~&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> classroom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Classroom</span><span class="token punctuation">(</span><span class="token string">&#39;3幢5楼205&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;计算机教室&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;james&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;kobe&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;curry&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
classroom<span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span><span class="token string">&#39;lilei&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> stu <span class="token keyword">of</span> classroom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>stu <span class="token operator">===</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">)</span> <span class="token keyword">break</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="什么是生成器" tabindex="-1"><a class="header-anchor" href="#什么是生成器" aria-hidden="true">#</a> 什么是生成器？</h2><p>生成器是 ES6 中新增的一种函数控制、使用的方案，它可以让我们更加灵活的控制函数什么时候继续执行、暂停执 行等。</p><p>平时我们会编写很多的函数，这些函数终止的条件通常是返回值或者发生了异常。</p><p>生成器函数也是一个函数，但是和普通的函数有一些区别：</p><ul><li>首先，生成器函数需要在 function 的后面加一个符号：<code>*</code></li><li>其次，生成器函数可以通过 yield 关键字来控制函数的执行流程：</li><li>最后，生成器函数的返回值是一个 Generator（生成器）：生成器事实上是一种特殊的迭代器；</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;函数开始执行~&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> value1 <span class="token operator">=</span> <span class="token number">100</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第一段代码:&#39;</span><span class="token punctuation">,</span> value1<span class="token punctuation">)</span>
  <span class="token keyword">yield</span>

  <span class="token keyword">const</span> value2 <span class="token operator">=</span> <span class="token number">200</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第二段代码:&#39;</span><span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
  <span class="token keyword">yield</span>

  <span class="token keyword">const</span> value3 <span class="token operator">=</span> <span class="token number">300</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第三段代码:&#39;</span><span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
  <span class="token keyword">yield</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;函数执行结束~&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 调用生成器函数时, 会给我们返回一个生成器对象</span>
<span class="token keyword">const</span> generator <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 开始执行第一段代码</span>
generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 开始执行第二端代码</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;-------------&#39;</span><span class="token punctuation">)</span>
generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;----------&#39;</span><span class="token punctuation">)</span>
generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生成器函数执行" tabindex="-1"><a class="header-anchor" href="#生成器函数执行" aria-hidden="true">#</a> 生成器函数执行</h2><p>我们发现上面的生成器函数 foo 的执行体压根没有执行，它只是返回了一个生成器对象。</p><p>那么我们如何可以让它执行函数中的东西呢？调用 next 即可；我们之前学习迭代器时，知道迭代器的 next 是会有返回值的；但是我们很多时候不希望 next 返回的是一个 undefined，这个时候我们可以通过 yield 来返回结果；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 当遇到yield时候值暂停函数的执行</span>
<span class="token comment">// 当遇到return时候生成器就停止执行</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;函数开始执行~&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> value1 <span class="token operator">=</span> <span class="token number">100</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第一段代码:&#39;</span><span class="token punctuation">,</span> value1<span class="token punctuation">)</span>
  <span class="token keyword">yield</span> value1

  <span class="token keyword">const</span> value2 <span class="token operator">=</span> <span class="token number">200</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第二段代码:&#39;</span><span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
  <span class="token keyword">yield</span> value2

  <span class="token keyword">const</span> value3 <span class="token operator">=</span> <span class="token number">300</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第三段代码:&#39;</span><span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
  <span class="token keyword">yield</span> value3

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;函数执行结束~&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token string">&#39;123&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// generator本质上是一个特殊的iterator</span>
<span class="token keyword">const</span> generator <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;返回值1:&#39;</span><span class="token punctuation">,</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;返回值2:&#39;</span><span class="token punctuation">,</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;返回值3:&#39;</span><span class="token punctuation">,</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;返回值3:&#39;</span><span class="token punctuation">,</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生成器传递参数-–-next-函数" tabindex="-1"><a class="header-anchor" href="#生成器传递参数-–-next-函数" aria-hidden="true">#</a> 生成器传递参数 – next 函数</h2><p>函数既然可以暂停来分段执行，那么函数应该是可以传递参数的，我们是否可以给每个分段来传递参数呢？答案是可以的；</p><ul><li>我们在调用 next 函数的时候，可以给它传递参数，那么这个参数会作为上一个 yield 语句的返回值；</li><li>注意：也就是说我们是为本次的函数代码块执行提供了一个值；</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;函数开始执行~&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> value1 <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">*</span> num
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第一段代码:&#39;</span><span class="token punctuation">,</span> value1<span class="token punctuation">)</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token keyword">yield</span> value1

  <span class="token keyword">const</span> value2 <span class="token operator">=</span> <span class="token number">200</span> <span class="token operator">*</span> n
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第二段代码:&#39;</span><span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token keyword">yield</span> value2

  <span class="token keyword">const</span> value3 <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">*</span> count
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第三段代码:&#39;</span><span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
  <span class="token keyword">yield</span> value3

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;函数执行结束~&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token string">&#39;123&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 生成器上的next方法可以传递参数</span>
<span class="token keyword">const</span> generator <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 第二段代码, 第二次调用next的时候执行的</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生成器提前结束-–-return-函数" tabindex="-1"><a class="header-anchor" href="#生成器提前结束-–-return-函数" aria-hidden="true">#</a> 生成器提前结束 – return 函数</h2><p>还有一个可以给生成器函数传递参数的方法是通过 return 函数：return 传值后这个生成器函数就会结束，之后调用 next 不会继续生成值了；</p><h2 id="生成器抛出异常-–-throw-函数" tabindex="-1"><a class="header-anchor" href="#生成器抛出异常-–-throw-函数" aria-hidden="true">#</a> 生成器抛出异常 – throw 函数</h2><p>除了给生成器函数内部传递参数之外，也可以给生成器函数内部抛出异常：</p><p>抛出异常后我们可以在生成器函数中捕获异常；</p><p>但是在 catch 语句中不能继续 yield 新的值了，但是可以在 catch 语句外使用 yield 继续中断函数的执行；</p><h2 id="生成器替代迭代器" tabindex="-1"><a class="header-anchor" href="#生成器替代迭代器" aria-hidden="true">#</a> 生成器替代迭代器</h2><p>我们发现生成器是一种特殊的迭代器，那么在某些情况下我们可以使用生成器来替代迭代器：</p><p>事实上我们还可以使用 <code>yield*</code>来生产一个可迭代对象：</p><p>这个时候相当于是一种 yield 的语法糖，只不过会依次迭代这个可迭代对象，每次迭代其中的一个值；</p><h2 id="自定义类迭代-–-生成器实现" tabindex="-1"><a class="header-anchor" href="#自定义类迭代-–-生成器实现" aria-hidden="true">#</a> 自定义类迭代 – 生成器实现</h2><p>在之前的自定义类迭代中，我们也可以换成生成器：</p><h2 id="对生成器的操作" tabindex="-1"><a class="header-anchor" href="#对生成器的操作" aria-hidden="true">#</a> 对生成器的操作</h2><p>既然生成器是一个迭代器，那么我们可以对其进行如下的操作：</p><h2 id="异步处理方案" tabindex="-1"><a class="header-anchor" href="#异步处理方案" aria-hidden="true">#</a> 异步处理方案</h2><p>学完了我们前面的 Promise、生成器等，我们目前来看一下异步代码的最终处理方案。</p><p>需求：</p><ul><li>我们需要向服务器发送网络请求获取数据，一共需要发送三次请求；</li><li>第二次的请求 url 依赖于第一次的结果；</li><li>第三次的请求 url 依赖于第二次的结果；</li><li>依次类推；</li></ul><h2 id="generator-方案" tabindex="-1"><a class="header-anchor" href="#generator-方案" aria-hidden="true">#</a> Generator 方案</h2><p>但是上面的代码其实看起来也是阅读性比较差的，有没有办法可以继续来对上面的代码进行优化呢？</p><h2 id="自动执行-generator-函数" tabindex="-1"><a class="header-anchor" href="#自动执行-generator-函数" aria-hidden="true">#</a> 自动执行 generator 函数</h2><p>目前我们的写法有两个问题：</p><ul><li>第一，我们不能确定到底需要调用几层的 Promise 关系；</li><li>第二，如果还有其他需要这样执行的函数，我们应该如何操作呢？</li></ul><p>所以，我们可以封装一个工具函数 execGenerator 自动执行生成器函数：</p></div></div></div><div class="card-box card-wrapper post-tocs"><header><h3 class="title"><i class="iconfont icon-categorynormal"></i><span> 目录 </span></h3></header><nav class="vuepress-toc"><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#什么是迭代器" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="什么是迭代器？">什么是迭代器？</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#迭代器的代码练习" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="迭代器的代码练习">迭代器的代码练习</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#可迭代对象" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="可迭代对象">可迭代对象</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#原生迭代器对象" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="原生迭代器对象">原生迭代器对象</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#可迭代对象的应用" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="可迭代对象的应用">可迭代对象的应用</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#自定义类的迭代" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="自定义类的迭代">自定义类的迭代</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#自定义类的迭代实现" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="自定义类的迭代实现">自定义类的迭代实现</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#什么是生成器" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="什么是生成器？">什么是生成器？</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#生成器函数执行" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="生成器函数执行">生成器函数执行</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#生成器传递参数-–-next-函数" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="生成器传递参数 – next 函数">生成器传递参数 – next 函数</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#生成器提前结束-–-return-函数" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="生成器提前结束 – return 函数">生成器提前结束 – return 函数</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#生成器抛出异常-–-throw-函数" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="生成器抛出异常 – throw 函数">生成器抛出异常 – throw 函数</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#生成器替代迭代器" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="生成器替代迭代器">生成器替代迭代器</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#自定义类迭代-–-生成器实现" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="自定义类迭代 – 生成器实现">自定义类迭代 – 生成器实现</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#对生成器的操作" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="对生成器的操作">对生成器的操作</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#异步处理方案" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="异步处理方案">异步处理方案</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#generator-方案" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="Generator 方案">Generator 方案</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/41d8b9ad4680423fd62fa2e2c7c3c499/#自动执行-generator-函数" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="自动执行 generator 函数">自动执行 generator 函数</a><!--[--><!--]--></li></ul></nav></div></div></main><footer class="theme-footer theme-common-footer"><div class="copyright"><a class="beian" href="https://beian.miit.gov.cn/#/Integrated/index">Apache-2.0</a><span class="delimiter">|</span><span class="info">Copyright © 2018-2022 lizhi1026.top</span></div></footer><div style="display:none;" class="back-to-top"><i class="iconfont icon-back-to-top"></i></div><!--]--><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.56da2130.js" defer></script><script src="/assets/js/4666.93202135.js" defer></script><script src="/assets/js/app.942499dd.js" defer></script>
  </body>
</html>
