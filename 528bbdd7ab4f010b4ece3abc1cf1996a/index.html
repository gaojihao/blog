<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <title>13 ES7-ES12 知识点解析 | lizhi1026.top</title><meta name="description" content="大前端知识分享网站">
    <link rel="preload" href="/assets/js/runtime~app.56da2130.js" as="script"><link rel="preload" href="/assets/css/styles.25f7fced.css" as="style"><link rel="preload" href="/assets/js/4666.93202135.js" as="script"><link rel="preload" href="/assets/js/app.942499dd.js" as="script"><link rel="prefetch" href="/assets/js/v-06800a30.f3dec077.js"><link rel="prefetch" href="/assets/js/v-0cec149c.bfb69549.js"><link rel="prefetch" href="/assets/js/v-7bf71e2f.445f559d.js"><link rel="prefetch" href="/assets/js/v-afcf349c.83e92e33.js"><link rel="prefetch" href="/assets/js/5830.c7d14f1b.js"><link rel="prefetch" href="/assets/js/v-41360372.686f3b5e.js"><link rel="prefetch" href="/assets/js/v-66c1598a.a282d5dd.js"><link rel="prefetch" href="/assets/js/v-26ed9ad3.92bb18be.js"><link rel="prefetch" href="/assets/js/v-0f53152a.d26dfc64.js"><link rel="prefetch" href="/assets/js/v-50d82b15.91ee28e4.js"><link rel="prefetch" href="/assets/js/v-dff859fc.f557570b.js"><link rel="prefetch" href="/assets/js/v-18509685.df423604.js"><link rel="prefetch" href="/assets/js/v-a922edc0.535a94a4.js"><link rel="prefetch" href="/assets/js/v-1d4c7ec0.cf60d8dd.js"><link rel="prefetch" href="/assets/js/v-77d53053.0a341438.js"><link rel="prefetch" href="/assets/js/v-d6494774.fc802c43.js"><link rel="prefetch" href="/assets/js/v-44577b2c.90b3dab6.js"><link rel="prefetch" href="/assets/js/v-60cb68ec.2b811fdb.js"><link rel="prefetch" href="/assets/js/v-6a8aaabc.b69ccc84.js"><link rel="prefetch" href="/assets/js/v-1d247778.1f704f62.js"><link rel="prefetch" href="/assets/js/v-eec6bdf2.9dfc99e5.js"><link rel="prefetch" href="/assets/js/v-5e3003f2.0480b37f.js"><link rel="prefetch" href="/assets/js/8079.c3bbc0d7.js"><link rel="prefetch" href="/assets/js/v-690d1ccf.210a0aaa.js"><link rel="prefetch" href="/assets/js/v-4eab4074.98636d52.js"><link rel="prefetch" href="/assets/js/v-226a117c.df5ea4f3.js"><link rel="prefetch" href="/assets/js/v-0dd0ed5c.48c3e5f6.js"><link rel="prefetch" href="/assets/js/v-2dc80c78.aebbc661.js"><link rel="prefetch" href="/assets/js/v-06ce03a3.393915e8.js"><link rel="prefetch" href="/assets/js/v-255f3c16.7dda2681.js"><link rel="prefetch" href="/assets/js/v-2acb2440.318dbfe2.js"><link rel="prefetch" href="/assets/js/v-5f1d9e81.908f219f.js"><link rel="prefetch" href="/assets/js/v-6ad26784.75e47cd3.js"><link rel="prefetch" href="/assets/js/v-01580f52.1b9475e7.js"><link rel="prefetch" href="/assets/js/v-1c4caef2.8e2d2a6d.js"><link rel="prefetch" href="/assets/js/v-5272b55f.d31a06ca.js"><link rel="prefetch" href="/assets/js/v-3e21a9cc.2bfdcc89.js"><link rel="prefetch" href="/assets/js/v-9f22f4ae.70636cc8.js"><link rel="prefetch" href="/assets/js/v-c95b0bb0.0c2e9386.js"><link rel="prefetch" href="/assets/js/v-3501e2d3.682a91f5.js"><link rel="prefetch" href="/assets/js/v-43870b30.c12b71f5.js"><link rel="prefetch" href="/assets/js/v-3e9755d6.7e26e47a.js"><link rel="prefetch" href="/assets/js/v-66d50acf.33f4a2d3.js"><link rel="prefetch" href="/assets/js/v-adc3e5f2.854489e9.js"><link rel="prefetch" href="/assets/js/v-26cdd7e2.e81a97c9.js"><link rel="prefetch" href="/assets/js/v-6d3cecb0.57f3cc41.js"><link rel="prefetch" href="/assets/js/v-7022f99e.9f5d8567.js"><link rel="prefetch" href="/assets/js/v-5953ceb8.e0f46831.js"><link rel="prefetch" href="/assets/js/v-24f73c0c.a3cec53b.js"><link rel="prefetch" href="/assets/js/v-222dd469.f2d22200.js"><link rel="prefetch" href="/assets/js/7534.7858fa5b.js"><link rel="prefetch" href="/assets/js/9330.a24ae1ea.js"><link rel="prefetch" href="/assets/js/v-52e63bcd.e76b3be6.js"><link rel="prefetch" href="/assets/js/v-ee220b6c.316962c1.js"><link rel="prefetch" href="/assets/js/1493.621b4732.js"><link rel="prefetch" href="/assets/js/v-42a882a6.e9bdd474.js"><link rel="prefetch" href="/assets/js/2872.274d6544.js"><link rel="prefetch" href="/assets/js/8427.53575c78.js"><link rel="prefetch" href="/assets/js/3238.c15e0c51.js"><link rel="prefetch" href="/assets/js/9163.9349bcf1.js"><link rel="prefetch" href="/assets/js/7042.9829b4c6.js"><link rel="prefetch" href="/assets/js/2994.73b50e07.js"><link rel="prefetch" href="/assets/js/v-09516126.809b320d.js"><link rel="prefetch" href="/assets/js/v-8daa1a0e.6f16aea4.js"><link rel="prefetch" href="/assets/js/v-1152bc8b.99b5d6fd.js"><link rel="prefetch" href="/assets/js/v-e355b60c.b46b7823.js"><link rel="prefetch" href="/assets/js/v-41507b24.e30e8d98.js"><link rel="prefetch" href="/assets/js/v-15534fdd.605934fb.js"><link rel="prefetch" href="/assets/js/v-3706649a.10e6f071.js"><link rel="prefetch" href="/assets/css/6286.styles.2808748c.css">
    <link rel="stylesheet" href="/assets/css/styles.25f7fced.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><header class="theme-header" is-logo="true"><a href="/" class="logo-link" style=""><img src="/images/logo-light.svg" alt class="logo"><strong class="title">lizhi1026.top</strong></a><!----><nav class="navbar"><i class="iconfont icon-menu menu-btn"></i><ul class="nav-list"><li class="nav-item"><div class="navbar-blogger"><div class="avatar"><img src="/images/avatar.jpg" alt="头像" title="头像"></div><div class="types"><a href="/categories/?category=all" class="type"><span class="text">分类</span><span class="num">52</span></a><div class="divider"></div><a href="/tags/?tag=all" class="type"><span class="text">标签</span><span class="num">52</span></a></div><div class="blogger"><div class="name">前端程序猿</div><p class="slogan" title="种一棵树最好的时间是十年前，其次是现在！">种一棵树最好的时间是十年前，其次是现在！</p></div></div></li><!--[--><li class="nav-link nav-item"><a href="/PostsLayout" class="navbar-item"><!----><span class="text">TypeScript学习笔记</span></a></li><li class="nav-link nav-item"><a href="/PostsLayout" class="navbar-item"><!----><span class="text">深入理解JavaScript</span></a></li><!--]--><li class="nav-link nav-item"><button class="theme-toggle"><i class="icon-sun iconfont"></i></button></li><li class="nav-link nav-item search-link"><a href="/search/" class="navbar-item"><i class="icon-search iconfont"></i><span class="text">搜索</span></a></li><li class="nav-item nav-medias"><div class="medias"><!--[--><a class="icon-email iconfont" href="lizhi1026@126.com" title="email" target="_blank"></a><a class="icon-github iconfont" href="https://github.com/gaojihao" title="github" target="_blank"></a><!--]--></div></li></ul></nav></header><!--[--><main class="theme-container theme-post-container"><aside class="post-aside"><ul class="menu-list"><!--[--><li id="01 深入 JavaScript 运行原理" class="menu-item"><a href="/4c4b0ea377b92a0003783aa0d5cf8bc8/" class="navbar-item"><!----><span class="text">01 深入 JavaScript 运行原理</span></a></li><li id="02 JS 内存管理和闭包" class="menu-item"><a href="/856b4bcb2027113073e25a4bff85e119/" class="navbar-item"><!----><span class="text">02 JS 内存管理和闭包</span></a></li><li id="03 JS 函数的 this 指向" class="menu-item"><a href="/0cd39fb70e0f2ca9faf4ee526f9e616e/" class="navbar-item"><!----><span class="text">03 JS 函数的 this 指向</span></a></li><li id="04 call、apply、bind" class="menu-item"><a href="/84eb2e0467d32f54a49e19e3f432c5f4/" class="navbar-item"><!----><span class="text">04 call、apply、bind</span></a></li><li id="05 JS 函数式编程" class="menu-item"><a href="/f678ec54116e1278bf9cf4fba44a52bb/" class="navbar-item"><!----><span class="text">05 JS 函数式编程</span></a></li><li id="06 JS 额外知识补充" class="menu-item"><a href="/f79d10f69ea68efbbfe1738916d7eff9/" class="navbar-item"><!----><span class="text">06 JS 额外知识补充</span></a></li><li id="07 深入 JS 面向对象 一" class="menu-item"><a href="/7178cfbd4eb2d730e93c68b97f5d94e8/" class="navbar-item"><!----><span class="text">07 深入 JS 面向对象 一</span></a></li><li id="08 深入 JS 面向对象 二" class="menu-item"><a href="/a4e6a517b4ec5a47965cd6cf67eb218a/" class="navbar-item"><!----><span class="text">08 深入 JS 面向对象 二</span></a></li><li id="09 深入 JS 面向对象继承" class="menu-item"><a href="/ad7f8c802df714eae7da323e2ced909e/" class="navbar-item"><!----><span class="text">09 深入 JS 面向对象继承</span></a></li><li id="10 JS 对象的方法补充" class="menu-item"><a href="/7a38cb54be902811fe8d07db448a008d/" class="navbar-item"><!----><span class="text">10 JS 对象的方法补充</span></a></li><li id="11 ES6 中类的使用" class="menu-item"><a href="/8c4ad459a070c46f8959cad7209d7bb9/" class="navbar-item"><!----><span class="text">11 ES6 中类的使用</span></a></li><li id="12 ES6 知识点讲解" class="menu-item"><a href="/f4259473db3d9f03896d064cee0709e0/" class="navbar-item"><!----><span class="text">12 ES6 知识点讲解</span></a></li><li id="13 ES7-ES12 知识点解析" class="active menu-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/" class="router-link-active router-link-exact-active navbar-item"><!----><span class="text">13 ES7-ES12 知识点解析</span></a></li><li id="14 Proxy-Reflect vue2-vue3 响应式原理" class="menu-item"><a href="/51b090dc86986d3e82b8e7d2afa6b7a5/" class="navbar-item"><!----><span class="text">14 Proxy-Reflect vue2-vue3 响应式原理</span></a></li><li id="15 响应式原理实现" class="menu-item"><a href="/4160c10e05a857abc57228e3e4b95c9e/" class="navbar-item"><!----><span class="text">15 响应式原理实现</span></a></li><li id="16 Promise 使用详解" class="menu-item"><a href="/79bda6359513634824b93e149ce60e5d/" class="navbar-item"><!----><span class="text">16 Promise 使用详解</span></a></li><li id="17 手写 Promise" class="menu-item"><a href="/b780e718ee01fcb2708e6564ce868edc/" class="navbar-item"><!----><span class="text">17 手写 Promise</span></a></li><li id="18 Iterator-Generator" class="menu-item"><a href="/41d8b9ad4680423fd62fa2e2c7c3c499/" class="navbar-item"><!----><span class="text">18 Iterator-Generator</span></a></li><!--]--></ul></aside><div class="theme-content post-container"><div class="post-wrapper"><i class="iconfont icon-book toc-btn"></i><i class="iconfont icon-menu aside-btn"></i><div class="markdown-body"><h1 class="post-title"><span>13 ES7-ES12 知识点解析</span></h1><div class="post-info"><span class="post-info-item"><i class="iconfont icon-avatar" title="作者"></i> 前端程序猿</span><span class="post-info-item"><i class="iconfont icon-datetime" title="日期"></i> 2022-08-12</span><span class="post-info-item"><i class="iconfont icon-categorynormal" title="分类"></i><!--[--><a href="/categories/?category=%E5%A4%A7%E5%89%8D%E7%AB%AF" class="post-type">大前端</a><!--]--></span><span class="post-info-item"><i class="iconfont icon-tag" title="标签"></i><!--[--><a href="/tags/?tag=javascript" class="post-type">javascript</a><!--]--></span></div><div><p>在 ES7 之前，如果我们想判断一个数组中是否包含某个元素，需要通过 indexOf 获取结果，并且判断是否为 -1。在 ES7 中，我们可以通过 includes 来判断一个数组中是否包含一个指定的元素，根据情况，如果包含则返回 true， 否则返回 false。</p><h2 id="es7-array-includes" tabindex="-1"><a class="header-anchor" href="#es7-array-includes" aria-hidden="true">#</a> ES7 - Array Includes</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;mba&#39;</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;cba&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;包含abc元素&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ES7 ES2016</span>
<span class="token comment">// 指定查找的起始位置</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;包含abc元素&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// indexOf 会忽略 NaN</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;包含NaN&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// includes 可以检测到 NaN</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;包含NaN&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es7-–指数-乘方-exponentiation-运算符" tabindex="-1"><a class="header-anchor" href="#es7-–指数-乘方-exponentiation-运算符" aria-hidden="true">#</a> ES7 –指数(乘方) exponentiation 运算符</h2><p>在 ES7 之前，计算数字的乘方需要通过 Math.pow 方法来完成。在 ES7 中，增加了 <code>**</code> 运算符，可以对数字来计算乘方。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> result1 <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">// ES7: **</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">,</span> result2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es8-object-values" tabindex="-1"><a class="header-anchor" href="#es8-object-values" aria-hidden="true">#</a> ES8 Object values</h2><p>之前我们可以通过 Object.keys 获取一个对象所有的 key，在 ES8 中提供了 Object.values 来获取所有的 value 值：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//  [&#39;why&#39;, 18]</span>

<span class="token comment">// 用的非常少</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;abc&#39;, &#39;cba&#39;, &#39;nba&#39;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es8-object-entries" tabindex="-1"><a class="header-anchor" href="#es8-object-entries" aria-hidden="true">#</a> ES8 Object entries</h2><p>通过 Object.entries 可以获取到一个数组，数组中会存放可枚举属性的键值对数组。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [[&quot;name&quot;,&quot;why&quot;],[&quot;age&quot;,18]]</span>
<span class="token keyword">const</span> objEntries <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
objEntries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cba&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nba&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [[&quot;0&quot;,&quot;abc&quot;],[&quot;1&quot;,&quot;cba&quot;],[&quot;2&quot;,&quot;nba&quot;]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [[&quot;0&quot;,&quot;a&quot;],[&quot;1&quot;,&quot;b&quot;],[&quot;2&quot;,&quot;c&quot;]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es8-string-padding" tabindex="-1"><a class="header-anchor" href="#es8-string-padding" aria-hidden="true">#</a> ES8 - String Padding</h2><p>某些字符串我们需要对其进行前后的填充，来实现某种格式化效果，ES8 中增加了 padStart 和 padEnd 方法，分 别是对字符串的首尾进行填充的。</p><p><strong>第一个参数是，填充后，字符串的长度，如果该参数小于等于字符串的长度，则填充不起作用</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&#39;Hello World&#39;</span>

<span class="token keyword">const</span> newMessage <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newMessage<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们简单具一个应用场景：比如需要对身份证、银行卡的前面位数进行隐藏：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 案例</span>
<span class="token keyword">const</span> cardNumber <span class="token operator">=</span> <span class="token string">&#39;321324234242342342341312&#39;</span>
<span class="token keyword">const</span> lastFourCard <span class="token operator">=</span> cardNumber<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> finalCard <span class="token operator">=</span> lastFourCard<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>cardNumber<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>finalCard<span class="token punctuation">)</span> <span class="token comment">// ********************1312</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es8-trailing-commas" tabindex="-1"><a class="header-anchor" href="#es8-trailing-commas" aria-hidden="true">#</a> ES8 - Trailing Commas</h2><p>在 ES8 中，我们允许在函数定义和调用时多加一个逗号：</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>function foo(m, n,) {};
foo(20, 30,);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es8-object-descriptors" tabindex="-1"><a class="header-anchor" href="#es8-object-descriptors" aria-hidden="true">#</a> ES8 - Object Descriptors</h2><p>ES8 中增加了另一个对对象的操作是 Object.getOwnPropertyDescriptors ，这个在之前已经讲过了，这里不再重 复</p><h2 id="es9-新增知识点" tabindex="-1"><a class="header-anchor" href="#es9-新增知识点" aria-hidden="true">#</a> ES9 新增知识点</h2><ul><li>Async iterators：后续迭代器讲解</li><li>Object spread operators：前面讲过了</li><li>Promise finally：后续讲 Promise 讲解</li></ul><h2 id="es10-flat-flatmap" tabindex="-1"><a class="header-anchor" href="#es10-flat-flatmap" aria-hidden="true">#</a> ES10 - flat flatMap</h2><ul><li>flat() 方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返 回。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">78</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> newNums <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNums<span class="token punctuation">)</span> <span class="token comment">// [10,20,2,9,[30,40],[10,45],78,55,88]</span>

<span class="token keyword">const</span> newNums2 <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNums2<span class="token punctuation">)</span> <span class="token comment">// [10, 20, 2, 9, 30, 40, 10, 45, 78, 55, 88]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>flatMap() 方法首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。 <ul><li>注意一：flatMap 是先进行 map 操作，再做 flat 的操作；</li><li>注意二：flatMap 中的 flat 相当于深度为 1；</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> newNums3 <span class="token operator">=</span> nums2<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> newNums4 <span class="token operator">=</span> nums2<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNums3<span class="token punctuation">)</span> <span class="token comment">// [20, 40, 60]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNums4<span class="token punctuation">)</span> <span class="token comment">// [20, 40, 60]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// flatMap的应用场景</span>
<span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;hello lyh&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;my name is coderwhy&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> words <span class="token operator">=</span> messages<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span> <span class="token comment">// [&#39;Hello&#39;, &#39;World&#39;, &#39;hello&#39;, &#39;lyh&#39;, &#39;my&#39;, &#39;name&#39;, &#39;is&#39;, &#39;coderwhy&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es10-object-fromentries" tabindex="-1"><a class="header-anchor" href="#es10-object-fromentries" aria-hidden="true">#</a> ES10 - Object fromEntries</h2><p>在前面，我们可以通过 Object.entries 将一个对象转换成 entries，那么如果我们有一个 entries 了，如何将其转换成对象呢？</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1.88</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> entries <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>

<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  newObj<span class="token punctuation">[</span>entry<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> entry<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ES10 提供了 Object.formEntries 来完成转换：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>那么这个方法有什么应用场景呢？</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> queryString <span class="token operator">=</span> <span class="token string">&#39;name=why&amp;age=18&amp;height=1.88&#39;</span>
<span class="token keyword">const</span> queryParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>queryString<span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> param <span class="token keyword">of</span> queryParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> paramObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>queryParams<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>paramObj<span class="token punctuation">)</span> <span class="token comment">// {name: &#39;why&#39;, age: &#39;18&#39;, height: &#39;1.88&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es10-trimstart-trimend" tabindex="-1"><a class="header-anchor" href="#es10-trimstart-trimend" aria-hidden="true">#</a> ES10 - trimStart trimEnd</h2><p>去除一个字符串首尾的空格，我们可以通过 trim 方法，如果单独去除前面或者后面呢？ ES10 中给我们提供了 trimStart 和 trimEnd；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&#39;    Hello World    &#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es10-其他知识点" tabindex="-1"><a class="header-anchor" href="#es10-其他知识点" aria-hidden="true">#</a> ES10 其他知识点</h2><ul><li>Symbol description：已经讲过了</li><li>Optional catch binding：后面讲解 try cach 讲解</li></ul><h2 id="es11-bigint" tabindex="-1"><a class="header-anchor" href="#es11-bigint" aria-hidden="true">#</a> ES11 - BigInt</h2><p>在早期的 JavaScript 中，我们不能正确的表示过大的数字：大于 MAX_SAFE_INTEGER 的数值，表示的可能是不正确的。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ES11之前 max_safe_integer</span>
<span class="token keyword">const</span> maxInt <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxInt<span class="token punctuation">)</span> <span class="token comment">// 9007199254740991</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxInt <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 9007199254740992</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxInt <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 9007199254740992</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>那么 ES11 中，引入了新的数据类型 BigInt，用于表示大的整数：BitInt 的表示方法是在数值的后面加上 n</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> bigInt <span class="token operator">=</span> <span class="token number">900719925474099100n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bigInt <span class="token operator">+</span> <span class="token number">10n</span><span class="token punctuation">)</span> <span class="token comment">// 900719925474099110n</span>

<span class="token comment">// Number 转 BigInt</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bigInt <span class="token operator">+</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 900719925474099200n</span>

<span class="token comment">// BigInt 转 Number</span>
<span class="token keyword">const</span> smallNum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>bigInt<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>smallNum<span class="token punctuation">)</span> <span class="token comment">// 900719925474099100</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es11-nullish-coalescing-operator" tabindex="-1"><a class="header-anchor" href="#es11-nullish-coalescing-operator" aria-hidden="true">#</a> ES11 - Nullish Coalescing Operator</h2><p>ES11，Nullish Coalescing Operator 增加了空值合并操作符：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token comment">// const bar = foo || &quot;default value&quot;;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> foo <span class="token operator">??</span> <span class="token string">&#39;defualt value&#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// default value</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es11-optional-chaining" tabindex="-1"><a class="header-anchor" href="#es11-optional-chaining" aria-hidden="true">#</a> ES11 - Optional Chaining</h2><p>可选链也是 ES11 中新增一个特性，主要作用是让我们的代码在进行 null 和 undefined 判断时更加清晰和简洁：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// friend: {</span>
  <span class="token comment">//   girlFriend: {</span>
  <span class="token comment">//     name: &quot;hmm&quot;</span>
  <span class="token comment">//   }</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>info <span class="token operator">&amp;&amp;</span> info<span class="token punctuation">.</span>friend <span class="token operator">&amp;&amp;</span> info<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>girlFriend<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>girlFriend<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ES11提供了可选链(Optional Chainling)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>friend<span class="token operator">?.</span>girlFriend<span class="token operator">?.</span>name<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es11-global-this" tabindex="-1"><a class="header-anchor" href="#es11-global-this" aria-hidden="true">#</a> ES11 - Global This</h2><p>在之前我们希望获取 JavaScript 环境的全局对象，不同的环境获取的方式是不一样的; 比如在浏览器中可以通过 this、window 来获取；比如在 Node 中我们需要通过 global 来获取；</p><p>那么在 ES11 中对获取全局对象进行了统一的规范：globalThis</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 获取某一个环境下的全局对象(Global Object)</span>

<span class="token comment">// 在浏览器下</span>
<span class="token comment">// console.log(window)</span>
<span class="token comment">// console.log(this)</span>

<span class="token comment">// 在node下</span>
<span class="token comment">// console.log(global)</span>

<span class="token comment">// ES11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>globalThis<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es11-for-in-标准化" tabindex="-1"><a class="header-anchor" href="#es11-for-in-标准化" aria-hidden="true">#</a> ES11 - for..in 标准化</h2><p>在 ES11 之前，虽然很多浏览器支持 for...in 来遍历对象类型，但是并没有被 ECMA 标准化。在 ES11 中，对其进行了标准化，for...in 是用于遍历对象的 key 的：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es11-其他知识点" tabindex="-1"><a class="header-anchor" href="#es11-其他知识点" aria-hidden="true">#</a> ES11 其他知识点</h2><ul><li>Dynamic Import：后续 ES Module 模块化中讲解。</li><li>Promise.allSettled：后续讲 Promise 的时候讲解。</li><li>import meta：后续 ES Module 模块化中讲解。</li></ul><h2 id="es12-finalizationregistry" tabindex="-1"><a class="header-anchor" href="#es12-finalizationregistry" aria-hidden="true">#</a> ES12 - FinalizationRegistry</h2><p>FinalizationRegistry 对象可以让你在对象被垃圾回收时请求一个回调。FinalizationRegistry 提供了这样的一种方法：当一个在注册表中注册的对象被回收时，请求在某个时间点上调用一个清理回调。（清理回调有时被称为 finalizer ）; 你可以通过调用 register 方法，注册任何你想要清理回调的对象，传入该对象和所含的值;</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> finalRegistry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinalizationRegistry</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;注册在finalRegistry的对象, 某一个被销毁&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>

finalRegistry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;obj&#39;</span><span class="token punctuation">)</span>
finalRegistry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">)</span>

obj <span class="token operator">=</span> <span class="token keyword">null</span>
info <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token comment">// 垃圾回收时，打印如下</span>
<span class="token comment">// 注册在finalRegistry的对象, 某一个被销毁 value</span>
<span class="token comment">// VM1565:2 注册在finalRegistry的对象, 某一个被销毁 obj</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es12-weakrefs" tabindex="-1"><a class="header-anchor" href="#es12-weakrefs" aria-hidden="true">#</a> ES12 - WeakRefs</h2><p>如果我们默认将一个对象赋值给另外一个引用，那么这个引用是一个强引用：如果我们希望是一个弱引用的话，可以使用 WeakRef；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ES12: WeakRef类</span>
<span class="token comment">// WeakRef.prototype.deref:</span>
<span class="token comment">// &gt; 如果原对象没有销毁, 那么可以获取到原对象</span>
<span class="token comment">// &gt; 如果原对象已经销毁, 那么获取到的是undefined</span>
<span class="token keyword">const</span> finalRegistry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinalizationRegistry</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;注册在finalRegistry的对象, 某一个被销毁&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

finalRegistry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;obj&#39;</span><span class="token punctuation">)</span>

obj <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">deref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span>name<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">deref</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> info<span class="token punctuation">.</span><span class="token function">deref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>

<span class="token comment">// 打印如下</span>
<span class="token comment">// 注册在finalRegistry的对象, 某一个被销毁 obj</span>
<span class="token comment">// undefined</span>
<span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es12-logical-assignment-operators" tabindex="-1"><a class="header-anchor" href="#es12-logical-assignment-operators" aria-hidden="true">#</a> ES12 - logical assignment operators</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1.||= 逻辑或赋值运算</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
<span class="token comment">// message = message || &quot;default value&quot;;</span>
message <span class="token operator">||=</span> <span class="token string">&#39;default value&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">// default value</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 2.&amp;&amp;= 逻辑与赋值运算</span>
<span class="token comment">// &amp;&amp;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;foo函数被调用&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span>foo <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// &amp;&amp;=</span>
<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1.判断info</span>
<span class="token comment">// 2.有值的情况下, 取出info.name</span>
<span class="token comment">// info = info &amp;&amp; info.name</span>
info <span class="token operator">&amp;&amp;=</span> info<span class="token punctuation">.</span>name
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token comment">// why</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 3.??= 逻辑空赋值运算</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token number">0</span>
message <span class="token operator">??=</span> <span class="token string">&#39;default value&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">// 0</span>

<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// undefined 或者 null 时，会取默认值,其它情况取原来的值</span>
foo <span class="token operator">??=</span> <span class="token string">&#39;default value&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// default value</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es12-其他知识点" tabindex="-1"><a class="header-anchor" href="#es12-其他知识点" aria-hidden="true">#</a> ES12 其他知识点</h2><ul><li>Numeric Separator：讲过了；</li><li>String.replaceAll：字符串替换；</li></ul><p>replaceAll() 方法返回一个新字符串，新字符串所有满足 pattern 的部分都已被 replacement 替换。pattern 可以是一个字符串或一个 RegExp， replacement 可以是一个字符串或一个在每次匹配被调用的函数。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token string">&#39;dog dog&#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&#39;dog&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;monkey&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// monkey monkey</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">dog</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;monkey&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// monkey monkey</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div></div><div class="card-box card-wrapper post-tocs"><header><h3 class="title"><i class="iconfont icon-categorynormal"></i><span> 目录 </span></h3></header><nav class="vuepress-toc"><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es7-array-includes" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES7 - Array Includes">ES7 - Array Includes</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es7-–指数-乘方-exponentiation-运算符" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES7 –指数(乘方) exponentiation 运算符">ES7 –指数(乘方) exponentiation 运算符</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es8-object-values" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES8 Object values">ES8 Object values</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es8-object-entries" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES8 Object entries">ES8 Object entries</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es8-string-padding" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES8 - String Padding">ES8 - String Padding</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es8-trailing-commas" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES8 - Trailing Commas">ES8 - Trailing Commas</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es8-object-descriptors" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES8 - Object Descriptors">ES8 - Object Descriptors</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es9-新增知识点" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES9 新增知识点">ES9 新增知识点</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es10-flat-flatmap" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES10 - flat flatMap">ES10 - flat flatMap</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es10-object-fromentries" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES10 - Object fromEntries">ES10 - Object fromEntries</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es10-trimstart-trimend" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES10 - trimStart trimEnd">ES10 - trimStart trimEnd</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es10-其他知识点" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES10 其他知识点">ES10 其他知识点</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es11-bigint" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES11 - BigInt">ES11 - BigInt</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es11-nullish-coalescing-operator" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES11 - Nullish Coalescing Operator">ES11 - Nullish Coalescing Operator</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es11-optional-chaining" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES11 - Optional Chaining">ES11 - Optional Chaining</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es11-global-this" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES11 - Global This">ES11 - Global This</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es11-for-in-标准化" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES11 - for..in 标准化">ES11 - for..in 标准化</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es11-其他知识点" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES11 其他知识点">ES11 其他知识点</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es12-finalizationregistry" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES12 - FinalizationRegistry">ES12 - FinalizationRegistry</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es12-weakrefs" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES12 - WeakRefs">ES12 - WeakRefs</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es12-logical-assignment-operators" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES12 - logical assignment operators">ES12 - logical assignment operators</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/528bbdd7ab4f010b4ece3abc1cf1996a/#es12-其他知识点" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="ES12 其他知识点">ES12 其他知识点</a><!--[--><!--]--></li></ul></nav></div></div></main><footer class="theme-footer theme-common-footer"><div class="copyright"><a class="beian" href="https://beian.miit.gov.cn/#/Integrated/index">Apache-2.0</a><span class="delimiter">|</span><span class="info">Copyright © 2018-2022 lizhi1026.top</span></div></footer><div style="display:none;" class="back-to-top"><i class="iconfont icon-back-to-top"></i></div><!--]--><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.56da2130.js" defer></script><script src="/assets/js/4666.93202135.js" defer></script><script src="/assets/js/app.942499dd.js" defer></script>
  </body>
</html>
